import{_ as F,g as b,r as $,h as z,i as A,j as G,c as H,a as d,b as e,w as o,k as J,d as t,o as K,l as s,m as I,p as L,e as Q,u as W,f as X,E as w,n as Y,q as Z}from"./index-Sr9-3Omg.js";const y=_=>(L("data-v-0037425a"),_=_(),Q(),_),ee={class:"box"},oe={class:"top"},te=y(()=>d("div",{class:"text"},"守护最好坤坤真爱粉后台管理",-1)),ne={class:"dropdownBox"},le={class:"content"},se={class:"sidbar"},ae=y(()=>d("span",null,"一级",-1)),de={class:"main"},ue={class:"dialog-footer"},_e={__name:"index",setup(_){const i=W();X();const C=(n,l)=>{},S=(n,l)=>{},m=n=>{i.push(n.index)},c=b(!1),B=n=>{n==2?J.confirm("确认退出登录吗?","提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{i.push("/login")}):n==1&&(c.value=!0)},g=localStorage.getItem("pwd"),a=$({oldPasswod:"",newPassword:""}),E=()=>{if(console.log(g),!a.oldPasswod)return w({message:"请输入旧密码",type:"warning"});if(!a.newPassword)return w({message:"请输入新密码",type:"warning"});if(a.oldPasswod!=g)return w({message:"请输入正确的旧密码",type:"warning"});localStorage.setItem("pwd",a.newPassword),i.push("/login")},v=b(localStorage.getItem("token")||"");let r=null;const M=()=>{r=setInterval(()=>{localStorage.getItem("token")!==v.value&&i.push("/login")},1e3)},T=()=>{r&&(clearInterval(r),r=null)};return z(v,n=>{localStorage.setItem("token",n)}),A(()=>{M()}),G(()=>{T()}),(n,l)=>{const x=t("el-icon"),p=t("el-button"),h=t("el-dropdown-item"),U=t("el-dropdown-menu"),N=t("el-dropdown"),f=t("el-menu-item"),O=t("el-menu-item-group"),V=t("el-sub-menu"),R=t("el-menu"),j=t("router-view"),k=t("el-input"),P=t("el-form-item"),q=t("el-form"),D=t("el-dialog");return K(),H("div",ee,[d("div",oe,[te,d("div",ne,[e(N,{onCommand:B},{dropdown:o(()=>[e(U,null,{default:o(()=>[e(h,{command:"1"},{default:o(()=>[s("修改密码")]),_:1}),e(h,{command:"2"},{default:o(()=>[s("退出登录")]),_:1})]),_:1})]),default:o(()=>[e(p,{type:"primary"},{default:o(()=>[s(" 功能操作"),e(x,{class:"el-icon--right"},{default:o(()=>[e(I(Y))]),_:1})]),_:1})]),_:1})])]),d("div",le,[d("div",se,[e(R,{"default-active":"/index",class:"el-menu-vertical-demo",onOpen:C,onClose:S},{default:o(()=>[e(V,{index:"/index"},{title:o(()=>[e(x,null,{default:o(()=>[e(I(Z))]),_:1}),ae]),default:o(()=>[e(O,null,{default:o(()=>[e(f,{index:"/home",onClick:m},{default:o(()=>[s("home页")]),_:1}),e(f,{index:"/about",onClick:m},{default:o(()=>[s("about页")]),_:1})]),_:1}),e(V,{index:"1-4"},{title:o(()=>[s("二级")]),default:o(()=>[e(f,{index:"/text",onClick:m},{default:o(()=>[s("text页")]),_:1})]),_:1})]),_:1})]),_:1})]),d("div",de,[e(j)])]),e(D,{modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=u=>c.value=u),title:"修改密码",width:"500",center:""},{footer:o(()=>[d("div",ue,[e(p,{onClick:l[2]||(l[2]=u=>c.value=!1)},{default:o(()=>[s("取消")]),_:1}),e(p,{type:"primary",onClick:E},{default:o(()=>[s(" 确定 ")]),_:1})])]),default:o(()=>[e(q,{"label-width":"80px",class:"elForm"},{default:o(()=>[e(P,{label:"旧密码"},{default:o(()=>[e(k,{modelValue:a.oldPasswod,"onUpdate:modelValue":l[0]||(l[0]=u=>a.oldPasswod=u)},null,8,["modelValue"])]),_:1}),e(P,{label:"新密码"},{default:o(()=>[e(k,{modelValue:a.newPassword,"onUpdate:modelValue":l[1]||(l[1]=u=>a.newPassword=u),"show-password":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},ce=F(_e,[["__scopeId","data-v-0037425a"]]);export{ce as default};
